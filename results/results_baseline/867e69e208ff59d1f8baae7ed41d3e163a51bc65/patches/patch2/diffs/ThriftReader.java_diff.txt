23,24d22
< import org.apache.thrift.transport.TFramedTransport;
< import org.apache.thrift.transport.TIOStreamTransport;
25a24
> import org.apache.thrift.transport.TIOStreamTransport;
63,65d61
<   // The framed framedTransport.
<   private final TFramedTransport framedTransport;
< 
68a65,66
>   private final TTransport transport;
> 
80,81c78
<     this.framedTransport = new TFramedTransport(new TIOStreamTransport(this
<         .byteOffsetInputStream), maxMessageSize);
---
>     this.transport = new TIOStreamTransport(this.byteOffsetInputStream);
83c80
<     this.protocol = protocolFactory.get(this.framedTransport);
---
>     this.protocol = protocolFactory.get(transport);
95c92
<     if (framedTransport.getBytesRemainingInBuffer() == 0 && byteOffsetInputStream.isEOF()) {
---
>     if (transport.getBytesRemainingInBuffer() == 0 && byteOffsetInputStream.isEOF()) {
110,111c107,108
<         byteOffsetInputStream.getByteOffset() >= framedTransport.getBytesRemainingInBuffer());
<     return byteOffsetInputStream.getByteOffset() - framedTransport.getBytesRemainingInBuffer();
---
>         byteOffsetInputStream.getByteOffset() >= transport.getBytesRemainingInBuffer());
>     return byteOffsetInputStream.getByteOffset() - transport.getBytesRemainingInBuffer();
127c124
<     framedTransport.consumeBuffer(framedTransport.getBytesRemainingInBuffer());
---
>     transport.consumeBuffer(transport.getBytesRemainingInBuffer());
139c136
<     framedTransport.close();
---
>     transport.close();
