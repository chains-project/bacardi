19,21c19,21
< import com.hazelcast.core.EntryListener;
< import com.hazelcast.core.IMap;
< import com.hazelcast.core.MapEvent;
---
> import com.hazelcast.map.listener.EntryListener;
> import com.hazelcast.core.HazelcastInstance;
> import com.hazelcast.map.IMap;
81c81
<         listeners.add(map.addEntryListener(listener, false));
---
>         listeners.add(map.addEntryListener(listener));
89c89
<             public void mapEvicted(MapEvent event) {
---
>             public void eventAdded(EntryEvent<K, V> event) {
92,93c92,93
<                     logger.trace("Processing map evicted event of node '{}'", eventNodeId);
<                     clusteredCacheEntryListener.mapEvicted(eventNodeId);
---
>                     logger.trace("Processing entry added event of node '{}' for key '{}'", eventNodeId, event.getKey());
>                     clusteredCacheEntryListener.entryAdded((K) event.getKey(), (V) event.getValue(), eventNodeId);
98c98
<             public void mapCleared(MapEvent event) {
---
>             public void eventRemoved(EntryEvent<K, V> event) {
101,102c101,102
<                     logger.trace("Processing map cleared event of node '{}'", eventNodeId);
<                     clusteredCacheEntryListener.mapCleared(eventNodeId);
---
>                     logger.trace("Processing entry removed event of node '{}' for key '{}'", eventNodeId, event.getKey());
>                     clusteredCacheEntryListener.entryRemoved((K) event.getKey(), (V) event.getOldValue(), eventNodeId);
107c107
<             public void entryUpdated(EntryEvent event) {
---
>             public void eventUpdated(EntryEvent<K, V> event) {
116,125c116
<             public void entryRemoved(EntryEvent event) {
<                 if (includeEventsFromLocalNode || !event.getMember().localMember()) {
<                     final NodeID eventNodeId = ClusteredCacheFactory.getNodeID(event.getMember());
<                     logger.trace("Processing entry removed event of node '{}' for key '{}'", eventNodeId, event.getKey());
<                     clusteredCacheEntryListener.entryRemoved((K) event.getKey(), (V) event.getOldValue(), eventNodeId);
<                 }
<             }
< 
<             @Override
<             public void entryEvicted(EntryEvent event) {
---
>             public void eventEvicted(EntryEvent<K, V> event) {
132,140d122
< 
<             @Override
<             public void entryAdded(EntryEvent event) {
<                 if (includeEventsFromLocalNode || !event.getMember().localMember()) {
<                     final NodeID eventNodeId = ClusteredCacheFactory.getNodeID(event.getMember());
<                     logger.trace("Processing entry added event of node '{}' for key '{}'", eventNodeId, event.getKey());
<                     clusteredCacheEntryListener.entryAdded((K) event.getKey(), (V) event.getValue(), eventNodeId);
<                 }
<             }
