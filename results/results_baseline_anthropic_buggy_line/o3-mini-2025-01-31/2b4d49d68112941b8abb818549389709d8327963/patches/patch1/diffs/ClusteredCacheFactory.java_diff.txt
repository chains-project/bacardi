22c22
< import com.hazelcast.config.MaxSizeConfig;
---
> import com.hazelcast.config.EvictionConfig;
27c27
< import com.hazelcast.core.Cluster;
---
> import com.hazelcast.cluster.Cluster;
30c30
< import com.hazelcast.core.Member;
---
> import com.hazelcast.cluster.Member;
43a44
> import org.jivesoftware.openfire.plugin.util.cache.ClusteredCache;
288c289,293
<             dynamicConfig.setMaxSizeConfig(new MaxSizeConfig(hazelcastMaxCacheSizeInMegaBytes, MaxSizeConfig.MaxSizePolicy.USED_HEAP_SIZE));
---
>             // Replace deprecated MaxSizeConfig with EvictionConfig
>             EvictionConfig evictionConfig = new EvictionConfig();
>             evictionConfig.setSize(hazelcastMaxCacheSizeInMegaBytes);
>             evictionConfig.setMaximumSizePolicy(EvictionConfig.MaxSizePolicy.USED_HEAP_SIZE);
>             dynamicConfig.setEvictionConfig(evictionConfig);
378d382
< 
701,703d704
< 
< 
< 
