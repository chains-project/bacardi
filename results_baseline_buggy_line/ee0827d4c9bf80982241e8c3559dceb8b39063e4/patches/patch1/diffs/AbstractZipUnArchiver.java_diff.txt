211c211
<                         remainingSpace -= cis.getByteCount();
---
>                         remainingSpace -= bis.getCount(); // Updated to use BoundedInputStream's getCount()
